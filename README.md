1) Не хватало закрытой скобки в конце всей функции statement
2) не хватало отступов во всем коде и особенно в цикле, код плохо читаемый
3) В переменной format исправил Inti на Intl
4) Заменил обычные кавычки на косые чтоб вместо обычной строки создавать шаблонную строку, внутри которой будет работать интерполяция
5) в JSON файле не хватает ] скобки в конце или запятой, если в этом массиве есть что-то, что не поместилось на экран
6) Для удобства тестирования я перенес данные из JSON файла в переменную testData
7) Чтобы избежать вызова функции в цикле для каждого элемента массива данных(а он у нас всего один пока что), в переменной testData я вынес данные из массива
8) в данных массив с постановками называется performance, в функции же к нему пытаемся обратиться по свойству performances. Исправил
9) везде в функции избавился от параметра plays а переменную play заменил на perf
10) result += `Итого с вас $(format(totalAmount/100)}\n`; исправил круглую скобку на фигурную
11) заменил math на Math
12) в разделе "Дополнительный бонус за каждые 10 комедий" исправил обращение к свойству(было через запятую стало через точку)
13) там же добавил скобки для лучшей читаемости условия if
14) в самом условии поменял perf.type и "comedy" местами для лучшей читаемости и понимания что с чем сравнивается
15) в "Вывод строки счета" заменил play.name на perf.playID, так как в данных нет свойства name


После этих шагов функция стала возвращать какой-то правдоподобный результат, но он все еще не был верным, так как в функции statement команда return находится в теле цикла и соответственно обрывает выполнение функции при первом же проходе по циклу

16) поэтому я вынес часть расчета result из цикла и теперь мы получаем правильный result в итоге
17) для улучшения читаемости попробовал обьединить все конкатенации "result +=", но отказался от этого, так как читаемость только ухудшилась
18) для поддерживаемости вынес в отдельную функцию всю конструкцию swith-case, добавив в нем return и убрав присвоение thisAmount = 0
19) Больше ничего выносить не стал, чтоб избежать избыточной оптимизации


















